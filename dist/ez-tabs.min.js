angular.module("ez.tabs",[]).constant("EzTabsConfig",{preSelectPromise:null}).directive("tabset",["$sce","$templateCache","$compile","EzTabsConfig",function(a,b,c,d){return{restrict:"E",scope:{config:"=?"},compile:function(e){var f=e.find("tab").remove();return e.addClass("ez-tabs"),function(e,g){e.tabs=[],e.options=angular.extend({},d,e.config);var h=function(b){e.tabs.push({heading:a.trustAsHtml(b.children[0].innerHTML),rawHtml:b.children[1].innerHTML,src:b.children[1].getAttribute("src")})},i=function(a){e.tabs.splice(a,1)};f.each(function(a){var b=f[a].getAttribute("ng-if");b?e.$parent.$watch(b,function(b){b?h(f[a]):i(a)}):h(f[a])});var j=function(a){e.tab&&(e.tab.active=!1),e.tab=a,a.active=!0,a.html=a.src?c(b.get(a.src))(e.$parent):c("<div>"+a.rawHtml+"</div>")(e.$parent),angular.element(g[0].children[0].children[1].children[0]).html(a.html)};e.select=function(a){e.options.preSelectPromise?e.options.preSelectPromise(a,g).then(function(){j(a)}):j(a)},g.append(c(b.get("ez-tabs.html"))(e)),j(e.tabs[0])}}}}]);