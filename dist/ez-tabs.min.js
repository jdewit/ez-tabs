angular.module("ez.tabs",[]).constant("EzTabsConfig",{preSelectPromise:null}).directive("tabset",["$sce","$templateCache","$compile","EzTabsConfig",function(a,b,c,d){return{restrict:"E",scope:{config:"=?"},compile:function(e){var f=e.find("tab").remove();return e.addClass("ez-tabs"),function(e,g){e.tabs=[],e.options=angular.extend({},d,e.config),f.each(function(b){e.tabs.push({heading:a.trustAsHtml(f[b].children[0].innerHTML),rawHtml:f[b].children[1].innerHTML,src:f[b].children[1].getAttribute("src")})});var h=function(a){e.tab&&(e.tab.active=!1),e.tab=a,a.active=!0,a.html=a.src?c(b.get(a.src))(e.$parent):c("<div>"+a.rawHtml+"</div>")(e.$parent),angular.element(g[0].children[0].children[1].children[0]).html(a.html)};e.select=function(a){e.options.preSelectPromise?e.options.preSelectPromise(a,g).then(function(){h(a)}):h(a)},g.append(c(b.get("ez-tabs.html"))(e)),h(e.tabs[0])}}}}]);